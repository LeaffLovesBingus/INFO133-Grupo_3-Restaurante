<html>
  <head>
    <title>CRUD App</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-100 overflow-x-auto px-4">
    <div class=" overflow-x-auto p-6">
      <h1 class="text-3xl font-bold text-center text-blue-700 mb-6">CRUD TEST Ingredientes</h1>

      <table class="min-w-full bg-white rounded-lg shadow overflow-hidden mb-8">
        <thead class="bg-blue-700 text-white">
          <tr>
            <th class="py-3 px-4 text-left">ID</th>
            <th class="py-3 px-4 text-left">ID Consumible</th>
            <th class="py-3 px-4 text-left">ID Ingrediente</th>
            <th class="py-3 px-4 text-left">Cantidad</th>
            <th class="py-3 px-4 text-left">Fecha</th>
            <th class="py-3 px-4 text-left">ID Cocinero</th>
            <th class="py-3 px-4 text-left">Acciones</th>
          </tr>
        </thead>
        <tbody>
          {% for row in data[-10:] %}
          <tr class="border-b hover:bg-blue-50">
            <td class="py-2 px-4">{{ row[0] }}</td>
            <form action="/update" method="post" class="contents">
              <input type="hidden" name="id" value="{{ row[0] }}">
              <td class="py-2 px-2">
                <input type="text" name="id_consumible" value="{{ row[1] }}" class="border rounded px-2 py-1 w-20">
              </td>
              <td class="py-2 px-2">
                <input type="text" name="id_ingrediente" value="{{ row[2] }}" class="border rounded px-2 py-1 w-20">
              </td>
              <td class="py-2 px-2">
                <input type="text" name="cantidad" value="{{ row[3] }}" class="border rounded px-2 py-1 w-20">
              </td>
              <td class="py-2 px-2">
                <input type="text" name="fecha" value="{{ row[4] }}" class="border rounded px-2 py-1 w-40">
              </td>
              <td class="py-2 px-2">
                <input type="text" name="id_cocinero" value="{{ row[5] }}" class="border rounded px-2 py-1 w-40">
              </td>
              <td class="py-2 px-2 flex gap-2">
                <button type="submit" class="bg-yellow-400 hover:bg-yellow-500 text-white px-3 py-1 rounded w-24">Update</button>
            </form>
            <form action="/delete" method="post" class="inline">
              <input type="hidden" name="id" value="{{ row[0] }}">
              <button type="submit" class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded w-24">Delete</button>
            </form>
              </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

      <h2 class="text-xl font-semibold mb-2 text-blue-700">Registrar Nuevo Uso Ingrediente</h2>
      <form action="/create" method="post" class="flex gap-2 mb-4">
        <input type="text" name="id_consumible" placeholder="ID Consumible" class="border rounded px-3 py-2 flex-1" required>
        <input type="text" name="id_ingrediente" placeholder="ID Ingrediente" class="border rounded px-3 py-2 flex-1" required>
        <input type="text" name="cantidad" placeholder="Cantidad" class="border rounded px-3 py-2 flex-1" required>
        <input type="text" name="fecha" placeholder="Fecha" class="border rounded px-3 py-2 flex-1" required>
        <input type="text" name="id_cocinero" placeholder="ID Cocinero" class="border rounded px-3 py-2 flex-1" required>
        <input type="submit" value="Create" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded cursor-pointer">
      </form>
    </div>
  </body>
</html>